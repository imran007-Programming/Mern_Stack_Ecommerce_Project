import{a as j,u as v,r as m,j as e,z as N,C as i,ao as w}from"./index-QoongkVf.js";import{F as C}from"./PhotoIcon-DG1evUFM.js";const A=()=>{const{loading:u}=j(t=>t.category),g=v(),[s,r]=m.useState(null),[l,c]=m.useState({categoryName:"",description:""}),d=t=>{const{name:a,value:o}=t.target;c({...l,[a]:o})},x=t=>{r(t.target.files[0])},f=t=>{t.preventDefault();const a=t.dataTransfer.files[0];a&&r(a)},p=t=>t.preventDefault(),h=()=>r(null),y=t=>{t.preventDefault();const{categoryName:a,description:o}=l;if(!a)i.error("Please enter a Category name");else if(!o)i.error("Please enter a Description");else if(!s)i.error("Please upload a Category image");else{const n=new FormData;n.append("categoryName",a),n.append("description",o),n.append("file",s),g(w({formdata:n,config:{"Content-Type":"multipart/form-data"}})).then(b=>{b.payload&&(c({categoryName:"",description:""}),r(null),i.success("Category added successfully"))}).catch(()=>{})}};return e.jsx("div",{className:" overflow-auto",children:e.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center ",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-2xl",children:e.jsx("h2",{className:"text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Add Category"})}),e.jsx("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-2xl",children:e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"categoryName",className:"block text-sm font-medium leading-6 text-gray-900",children:"Category Name"}),e.jsx("input",{value:l.categoryName,onChange:d,name:"categoryName",type:"text",autoComplete:"off",required:!0,className:`mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 
                             shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 
                             focus:ring-2 focus:ring-inset focus:ring-black sm:text-sm sm:leading-6`})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium leading-6 text-gray-900",children:"Description"}),e.jsx("textarea",{value:l.description,onChange:d,id:"description",name:"description",rows:1,className:`mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 
                             shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 
                             focus:ring-2 focus:ring-inset focus:ring-black sm:text-sm sm:leading-6`})]})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{htmlFor:"cover-photo",className:"block text-sm font-medium leading-6 text-gray-900",children:"Upload photo"}),e.jsx("div",{className:`mt-2 flex justify-center items-center rounded-lg border border-dashed 
                           border-gray-900/25 px-6 py-10 cursor-pointer`,onDrop:f,onDragOver:p,children:s?e.jsxs("div",{className:"relative w-40 h-40 border rounded-md overflow-hidden",children:[e.jsx("img",{src:URL.createObjectURL(s),alt:"preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:h,className:"absolute top-1 right-1 bg-black text-white text-xs rounded-full p-1 opacity-70 hover:opacity-100",children:"‚ùå"})]}):e.jsxs("div",{className:"text-center",children:[e.jsx(C,{className:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true"}),e.jsxs("div",{className:"mt-4 flex text-sm leading-6 text-gray-600 justify-center",children:[e.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-md bg-white font-semibold text-black 
                                   focus-within:outline-none focus-within:ring-2 focus-within:ring-black 
                                   focus-within:ring-offset-2 hover:text-gray-700`,children:[e.jsx("span",{children:"Upload a file"}),e.jsx("input",{onChange:x,id:"file-upload",name:"catimage",type:"file",className:"sr-only"})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs leading-5 text-gray-600",children:"PNG, JPG, GIF up to 10MB"})]})})]}),u?e.jsx(N,{}):e.jsx("button",{onClick:y,type:"submit",className:`flex w-full justify-center rounded-md bg-black px-3 py-1.5 
                           text-sm font-semibold leading-6 text-white shadow-sm 
                           hover:bg-gray-800 focus-visible:outline focus-visible:outline-2 
                           focus-visible:outline-offset-2 focus-visible:outline-black`,children:"ADD CATEGORY"})]})})]})})};export{A as default};
