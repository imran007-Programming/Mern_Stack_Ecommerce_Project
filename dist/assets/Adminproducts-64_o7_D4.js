import{u as b,r as o,a as x,q as v,j as e,L as P,b as h,aB as w}from"./index-UJMJvy5A.js";import{H as C}from"./index.esm-DpcOPnYO.js";import{L as k}from"./Loading-CpeICPhF.js";import{P as D}from"./Pagination-TboJ18QY.js";const L=()=>{const n=b(),[t,c]=o.useState(1),[i,p]=o.useState(0),{AllProducts:l,loading:m}=x(s=>s.products),{CategoryData:u}=x(s=>s.category),g=()=>{n(h({page:t})).then(a=>{a.payload.Pagination&&p(a.payload.Pagination.pageCount)}).catch(a=>console.log(a))},j=()=>{c(()=>t===i?t:t+1)},N=()=>{c(()=>t===1?t:t-1)};o.useEffect(()=>{n(v()),g()},[n,t]);const f=s=>{const a=u.find(r=>r._id===s);return a?a.categoryName:"Category Not Found"},y=s=>{n(w({url:s})).then(()=>n(h({page:t}))).catch(r=>console.log(r))};return e.jsxs(e.Fragment,{children:[e.jsx("section",{children:m?e.jsx(k,{margin:"mt-7"}):e.jsxs("div",{className:"w-auto overflow-auto h-[600px]",children:[e.jsxs("p",{className:"text-center text-2xl mb-4",children:["Total products: [",l?.products?.length,"]"]}),e.jsx("div",{className:"",children:e.jsxs("table",{className:"table-auto w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 text-left",children:[e.jsx("th",{className:"p-2",children:"Image"}),e.jsx("th",{className:"p-2",children:"Product Name"}),e.jsx("th",{className:"p-2",children:"Status"}),e.jsx("th",{className:"p-2",children:"Total Qty"}),e.jsx("th",{className:"p-2",children:"Price"}),e.jsx("th",{className:"p-2",children:"Category"}),e.jsx("th",{className:"p-2",children:"Sizes"}),e.jsx("th",{className:"p-2",children:"Colors"}),e.jsx("th",{className:"p-2 text-right",children:"Action"})]})}),e.jsx("tbody",{children:l?.products?.length!==0&&l?.products?.map((s,a)=>e.jsxs("tr",{className:"",children:[e.jsx("td",{className:"p-2",children:e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden",children:e.jsx("img",{src:s.images[0],alt:s.productName})})}),e.jsx("td",{className:"p-2",children:s.productName.slice(0,20)}),e.jsx("td",{className:"p-2",children:s.quantity<=0?e.jsx("span",{className:"px-2 inline-flex text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Out of stock"}):e.jsx("span",{className:"px-2 inline-flex text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"In stock"})}),e.jsx("td",{className:"p-2",children:s.quantity}),e.jsxs("td",{className:"p-2",children:["$",s.price]}),e.jsx("td",{className:"p-2",children:f(s.categoryid)}),e.jsx("td",{className:"p-2",children:s.sizes.length===0?e.jsx("p",{children:"-"}):s.sizes.map((r,d)=>e.jsx("span",{className:"inline-block px-2 py-1 mr-1 mb-1 text-xs bg-gray-100 rounded",children:r},d))}),e.jsx("td",{className:"p-2",children:s.colors.map((r,d)=>e.jsx("span",{style:{background:r},className:"inline-block w-4 h-4 rounded-full border mr-1"},d))}),e.jsx("td",{className:"p-2 text-right",children:e.jsxs("div",{className:"relative group inline-block",children:[e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:e.jsx(C,{size:22,className:"text-gray-600"})}),e.jsx("div",{className:`absolute right-0 w-44 bg-white border rounded-md shadow-lg \r
                 opacity-0 group-hover:opacity-100 \r
                 pointer-events-none group-hover:pointer-events-auto \r
                 transition duration-200`,children:e.jsxs("ul",{className:"text-sm",children:[e.jsx("li",{children:e.jsxs(P,{to:`/adminaccount/updateproduct/${s._id}`,className:"flex items-center gap-2 px-4 py-2 hover:bg-gray-100",children:[e.jsx("span",{children:"✏️"}),e.jsx("span",{children:"Edit Product"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>y(s._id),className:"flex items-center gap-2 w-full px-4 py-2 text-red-600 hover:bg-gray-100",children:[e.jsx("span",{children:"🗑️"}),e.jsx("span",{children:"Delete Product"})]})})]})})]})})]},a))})]})})]})}),e.jsx(D,{setPage:c,prevPage:N,nextPage:j,page:t,pageCount:i})]})};export{L as default};
