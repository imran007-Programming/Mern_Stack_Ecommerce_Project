import{u as V,r as l,w as H,a as u,p as K,t as W,A as Y,j as e,ar as Z,z as ee,as as te,C as N,at as se}from"./index-QoongkVf.js";import{S as d}from"./react-select.esm-dlVUMXNv.js";import{F as ae}from"./UserCircleIcon-CQRZR9np.js";import{F as le}from"./PhotoIcon-DG1evUFM.js";import"./emotion-react.browser.esm-WgIIGVKg.js";const me=()=>{const n=V(),[w,C]=l.useState([]),[S,k]=l.useState([]),[F,q]=l.useState([]),[g,z]=l.useState([]),[h,B]=l.useState(""),[x,P]=l.useState(""),{id:p}=H(),[f,y]=l.useState([]),b=["S","M","L","XL","XXL","3XL","40","41","42","43","44","45","8GB","16GB","256GB","512GB","27inche"],[E,G]=l.useState([]),I=t=>{G(t)},O=b.map((t=>({value:t,label:t}))),j=["red","green","black","yellow","white","pink","bottle green","blue","orange"],[T,U]=l.useState([]),D=t=>{U(t)},M=j.map((t=>({value:t,label:t}))),L=[{value:"hot",label:"hot"},{value:"new",label:"new"},{value:"sale",label:"sale"},{value:"cool",label:"cool"}],{CategoryData:c}=u(t=>t.category);l.useEffect(()=>{let t=[];for(let a=0;a<c.length;a++){let i={value:c[a]._id,label:c[a].categoryName};t.push(i)}C(t)},[c]),l.useEffect(()=>{n(K())},[]);const{loading:R,error:ie}=u(t=>t.products),{GetallBrand:m}=u(t=>t.brand);l.useEffect(()=>{let t=[];for(let a=0;a<m.length;a++){let i={value:m[a]._id,label:m[a].name};t.push(i)}k(t)},[m]),l.useEffect(()=>{n(W())},[n]);const{productDetails:s}=u(t=>t.products),[r,v]=l.useState({productName:s?.productName,price:s?.price,discount:s?.discount,quantity:s?.quantity,description:s?.description,brand:x,colors:j,sizes:b,type:s?.type}),o=t=>{const{name:a,value:i}=t.target;v({...r,[a]:i})},X=t=>{const a=Array.from(t.target.files);q(a)},_=t=>{const{value:a}=t;B(a)},A=t=>{const{label:a}=t;P(a)};l.useEffect(()=>{n(Y({productid:p}))},[p]),l.useEffect(()=>{s&&v({productName:s.productName||"",price:s.price||"",discount:s.discount||"",quantity:s.quantity||"",description:s.description||"",brand:s.brand||"",colors:s.colors||[],sizes:s.sizes||[],files:s.files||[],type:s.type||""})},[s]);const $=t=>{if(t.preventDefault(),h=="")N.error("enter product Category");else{const a={"Content-Type":"multipart/form-data"};n(se({...r,files:F,colors:T?.map(i=>i.value),sizes:E?.map(i=>i.value),type:g.value?g.value:s.type,brand:x||s.brand,categoryId:h,config:a,id:p}))}};l.useEffect(()=>{s&&y(s.images||[])},[s]);const J=(t,a)=>{n(te({imageUrl:t,productId:a})),y(f.filter(Q=>Q!==t)),N.success("Image deleted successfully")};return e.jsx("div",{className:"h-[650px] overflow-auto",children:e.jsx("div",{className:"overflow-x-hidden",children:e.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 ",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsx("h2",{className:" text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Update Product"})}),e.jsx("div",{className:"mt-3 sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsxs("form",{className:"space-y-6",action:"#",method:"POST",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"productName",className:"block text-sm font-medium leading-6 text-gray-900",children:"Product Name"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{onChange:o,value:r?.productName,name:"productName",type:"text",autoComplete:"text",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block text-sm font-medium leading-6 text-gray-900",children:"Category"}),e.jsx("div",{className:"mt-2",children:e.jsx(d,{onChange:_,isSearchable:!1,placeholder:"Select a category",options:w})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block text-sm font-medium leading-6 text-gray-900",children:"Brand"}),e.jsx("div",{className:"mt-2",children:e.jsx(d,{onChange:A,isSearchable:!1,placeholder:"---Select a Brand---",options:S})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Type",className:"block text-sm font-medium leading-6 text-gray-900",children:"Type"}),e.jsx("div",{className:"mt-2",children:e.jsx(d,{value:g,onChange:z,options:L,isSearchable:!1})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Type",className:"block text-sm font-medium leading-6 text-gray-900",children:"Color"}),e.jsx("div",{className:"mt-2",children:e.jsx(d,{isMulti:!0,isClearable:!0,onChange:t=>D(t),options:M,isSearchable:!1})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Type",className:"block text-sm font-medium leading-6 text-gray-900",children:"Sizes"}),e.jsx("div",{className:"mt-2",children:e.jsx(d,{isMulti:!0,isClearable:!0,placeholder:"---Pls select sizes---",options:O,closeMenuOnSelect:!1,isSearchable:!1,onChange:t=>I(t)})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium leading-6 text-gray-900",children:"Discount"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{onChange:o,value:r?.discount,id:"discount",name:"discount",type:"number",autoComplete:"number",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium leading-6 text-gray-900",children:"Price"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{onChange:o,value:r?.price,id:"price",name:"price",type:"number",autoComplete:"number",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("p",{className:"mb-3",children:"Edit images:"}),e.jsx("div",{className:"flex items-center gap-3",children:f?.map((t,a)=>e.jsxs("div",{className:"flex flex-col items-center gap-2 relative mb-3 ",children:[e.jsx("img",{className:"w-24 border-solid border-2 border-gray-950 ",src:t,alt:""}),e.jsx(Z,{onClick:()=>J(t,s._id),className:"absolute -top-3 left-10 text-red-950   cursor-pointer",size:20})]},a))}),e.jsx("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Upload Images"}),e.jsxs("div",{className:"mt-2 flex items-center gap-x-3",children:[e.jsx(ae,{className:"h-12 w-12 text-gray-300","aria-hidden":"true"}),e.jsx("label",{htmlFor:"file-upload",type:"button",className:"rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 cursor-pointer",children:"Upload"})]})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{htmlFor:"cover-photo",className:"block text-sm font-medium leading-6 text-gray-900",children:"Upload photo"}),e.jsx("div",{className:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx(le,{className:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true"}),e.jsxs("div",{className:"mt-4 flex text-sm leading-6 text-gray-600",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-semibold text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500",children:[e.jsx("span",{children:"Upload a file"}),e.jsx("input",{required:!0,onChange:X,id:"file-upload",name:"file-upload",type:"file",multiple:"multiple",className:"sr-only"})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs leading-5 text-gray-600",children:"PNG, JPG, GIF up to 10MB"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium leading-6 text-gray-900",children:"Quantity"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{onChange:o,value:r?.quantity,id:"quantity",name:"quantity",type:"number",autoComplete:"number",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium leading-6 text-gray-900",children:"Description"}),e.jsx("div",{className:"mt-2",children:e.jsx("textarea",{onChange:o,value:r?.description,id:"description",name:"description",rows:3,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",defaultValue:""})})]}),R?e.jsx(ee,{}):e.jsx("div",{children:e.jsx("button",{onClick:$,type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Update Product"})})]})})]})})})};export{me as default};
