import{j as e,u as y,r as h,a as p,p as v,L as P,b as m,ap as k}from"./index-vqzppHW-.js";import{H as w}from"./index.esm-kxz5lrU8.js";import{L as C}from"./Loading-l0slvfHI.js";const A=({pageCount:r,page:t,setPage:c,nextPage:i,prevPage:d})=>e.jsx("div",{className:"join flex flex-row items-center justify-center gap-x-5",children:r>0?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>d(),className:"bg-black p-2 rounded text-white cursor-pointer",children:"Previous"}),e.jsx("div",{className:"join",children:Array(r).fill(null).map((o,l)=>e.jsx("button",{onClick:()=>c(l+1),className:`${t===l+1?"btn-primary":"bg-black text-white"}  `,children:l+1}))}),e.jsx("button",{onClick:()=>i(),className:"bg-black p-2 rounded text-white cursor-pointer",children:"Next"})]}):""}),E=()=>{const r=y(),[t,c]=h.useState(1),[i,d]=h.useState(0),{AllProducts:o,loading:l}=p(s=>s.products),{CategoryData:u}=p(s=>s.category),g=()=>{r(m({page:t})).then(a=>{a.payload.Pagination&&d(a.payload.Pagination.pageCount)}).catch(a=>console.log(a))},j=()=>{c(()=>t===i?t:t+1)},N=()=>{c(()=>t===1?t:t-1)};h.useEffect(()=>{r(v()),g()},[r,t]);const b=s=>{const a=u.find(n=>n._id===s);return a?a.categoryName:"Category Not Found"},f=s=>{r(k({url:s})).then(()=>r(m({page:t}))).catch(n=>console.log(n))};return e.jsxs(e.Fragment,{children:[e.jsx("section",{children:l?e.jsx(C,{margin:"mt-7"}):e.jsxs("div",{className:"w-auto overflow-auto h-[600px]",children:[e.jsxs("p",{className:"text-center text-2xl mb-4",children:["Total products: [",o?.products?.length,"]"]}),e.jsx("div",{className:"",children:e.jsxs("table",{className:"table-auto w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 text-left",children:[e.jsx("th",{className:"p-2",children:"Image"}),e.jsx("th",{className:"p-2",children:"Product Name"}),e.jsx("th",{className:"p-2",children:"Status"}),e.jsx("th",{className:"p-2",children:"Total Qty"}),e.jsx("th",{className:"p-2",children:"Price"}),e.jsx("th",{className:"p-2",children:"Category"}),e.jsx("th",{className:"p-2",children:"Sizes"}),e.jsx("th",{className:"p-2",children:"Colors"}),e.jsx("th",{className:"p-2 text-right",children:"Action"})]})}),e.jsx("tbody",{children:o?.products?.length!==0&&o?.products?.map((s,a)=>e.jsxs("tr",{className:"",children:[e.jsx("td",{className:"p-2",children:e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden",children:e.jsx("img",{src:s.images[0],alt:s.productName})})}),e.jsx("td",{className:"p-2",children:s.productName.slice(0,20)}),e.jsx("td",{className:"p-2",children:s.quantity<=0?e.jsx("span",{className:"px-2 inline-flex text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Out of stock"}):e.jsx("span",{className:"px-2 inline-flex text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"In stock"})}),e.jsx("td",{className:"p-2",children:s.quantity}),e.jsxs("td",{className:"p-2",children:["$",s.price]}),e.jsx("td",{className:"p-2",children:b(s.categoryid)}),e.jsx("td",{className:"p-2",children:s.sizes.length===0?e.jsx("p",{children:"-"}):s.sizes.map((n,x)=>e.jsx("span",{className:"inline-block px-2 py-1 mr-1 mb-1 text-xs bg-gray-100 rounded",children:n},x))}),e.jsx("td",{className:"p-2",children:s.colors.map((n,x)=>e.jsx("span",{style:{background:n},className:"inline-block w-4 h-4 rounded-full border mr-1"},x))}),e.jsx("td",{className:"p-2 text-right",children:e.jsxs("div",{className:"relative group inline-block",children:[e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:e.jsx(w,{size:22,className:"text-gray-600"})}),e.jsx("div",{className:`absolute right-0 w-44 bg-white border rounded-md shadow-lg \r
                 opacity-0 group-hover:opacity-100 \r
                 pointer-events-none group-hover:pointer-events-auto \r
                 transition duration-200`,children:e.jsxs("ul",{className:"text-sm",children:[e.jsx("li",{children:e.jsxs(P,{to:`/adminaccount/updateproduct/${s._id}`,className:"flex items-center gap-2 px-4 py-2 hover:bg-gray-100",children:[e.jsx("span",{children:"✏️"}),e.jsx("span",{children:"Edit Product"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>f(s._id),className:"flex items-center gap-2 w-full px-4 py-2 text-red-600 hover:bg-gray-100",children:[e.jsx("span",{children:"🗑️"}),e.jsx("span",{children:"Delete Product"})]})})]})})]})})]},a))})]})})]})}),e.jsx(A,{setPage:c,prevPage:N,nextPage:j,page:t,pageCount:i})]})};export{E as default};
