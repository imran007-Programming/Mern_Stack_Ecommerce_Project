import{G as $,r as i,u as w,e as C,a as S,j as e,av as T,aw as D,y,ax as E,ay as B,az as R,L as G,C as Q,D as H,d as K,Q as v,S as U,W as J}from"./index-QoongkVf.js";import{I as k}from"./index.esm-B5Z019Ud.js";import{W as X}from"./WishListViewSkeleton-CR3rNTCA.js";import{d as Y}from"./index.esm-CQ6twEpq.js";import{c as Z}from"./index.esm-BC6LLL33.js";function V(a){return $({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4.595a5.904 5.904 0 0 0-3.996-1.558 5.942 5.942 0 0 0-4.213 1.758c-2.353 2.363-2.352 6.059.002 8.412l7.332 7.332c.17.299.498.492.875.492a.99.99 0 0 0 .792-.409l7.415-7.415c2.354-2.354 2.354-6.049-.002-8.416a5.938 5.938 0 0 0-4.209-1.754A5.906 5.906 0 0 0 12 4.595zm6.791 1.61c1.563 1.571 1.564 4.025.002 5.588L12 18.586l-6.793-6.793c-1.562-1.563-1.561-4.017-.002-5.584.76-.756 1.754-1.172 2.799-1.172s2.035.416 2.789 1.17l.5.5a.999.999 0 0 0 1.414 0l.5-.5c1.512-1.509 4.074-1.505 5.584-.002z"}}]})(a)}const ee=({wishListView:a})=>{const[o,h]=i.useState(""),[r,d]=i.useState(0),[g,u]=i.useState(!0),[x,p]=i.useState(""),[c,n]=i.useState(1),[f,j]=i.useState(0),m=w(),s=C(),N=()=>{d(t=>t===a.images.length-1?0:t+1)},z=()=>{d(t=>t===0?a.images.length-1:t-1)};i.useEffect(()=>{h(""),d(0),u(!0);const t=setTimeout(()=>{u(!1)},2e3);return()=>clearTimeout(t)},[a]);const I=t=>{h(t)},{CategoryData:W}=S(t=>t.category),A=t=>{const l=W.find(b=>b._id===t);return l?l.categoryName:"Category Not Found"},F=()=>{n(c+1)},O=()=>{c>1&&n(c-1)},L=localStorage.getItem("usertoken"),_=async(t,l,b)=>{const M=l.sizes&&l.sizes.length>0;try{if(L==null){s("/login");return}else if(M&&x===""){Q.error("please select a size");return}else m(H({productid:t,size:x,quantity:b})),m(K())}catch(P){console.error(P)}},q=(t,l)=>{j(t),p(l)};return e.jsx("div",{className:"webkit p-2",children:g?e.jsx(X,{}):e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"w-full lg:w-1/2 flex justify-center items-center",children:e.jsxs("div",{className:"flex flex-col space-y-5 relative w-full",children:[a?.images?.length>0&&e.jsx("img",{src:a.images[r]||a.images[0],alt:"Product",className:"w-full max-h-[350px] sm:max-h-[400px] object-contain rounded-md"}),e.jsx(T,{onClick:z,className:"absolute top-1/2 transform -translate-y-1/2 left-2 bg-white rounded-full shadow cursor-pointer p-1",size:28}),e.jsx(D,{onClick:N,className:"absolute top-1/2 transform -translate-y-1/2 right-2 bg-white rounded-full shadow cursor-pointer p-1",size:28}),a?.images?.length>0&&e.jsx("div",{className:"flex flex-row overflow-x-auto scrollbar-none gap-2 mt-2",children:a.images.map((t,l)=>e.jsx("img",{src:t,alt:"Thumb",className:`w-16 h-16 object-cover rounded cursor-pointer flex-shrink-0 ${r===l?"border-2 border-black":""}`,onClick:()=>{I(t),d(l)}},l))})]})}),e.jsxs("div",{className:"w-full lg:w-1/2 p-2 sm:p-4 space-y-4",children:[e.jsx("h1",{className:"text-lg sm:text-2xl font-bold",children:a.productName}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-yellow-400",children:[...Array(5)].map((t,l)=>e.jsx("svg",{className:"w-4 h-4 inline",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 15l-6.16 3.58L5 12.25 1 8.09l6.32-.9L10 1l2.68 6.19 6.32.9-4 4.16 1.16 6.33L10 15z"})},l))}),e.jsx("span",{className:"text-xs sm:text-sm",children:"(No reviews yet)"})]}),e.jsxs("div",{className:"text-xl sm:text-2xl text-gray-800",children:["$ ",a.price]}),e.jsxs("div",{className:"text-sm sm:text-base text-gray-600 space-y-1",children:[e.jsxs("div",{children:["Category:"," ",e.jsx("span",{className:"text-gray-800",children:A(a.categoryid)})]}),a.quantity>=1?e.jsxs("div",{children:["Availability:"," ",e.jsx("span",{className:"text-green-600 font-semibold",children:"In Stock"})]}):e.jsxs("div",{children:["Availability:"," ",e.jsx("span",{className:"text-red-600 font-semibold",children:"Out of Stock"})]})]}),a.sizes?.length>0&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Size / Weight:"}),a.sizes.map((t,l)=>e.jsx("button",{className:`px-3 py-1 border rounded-md text-sm ${f===l?"bg-black text-white":"bg-white text-black"}`,onClick:()=>q(l,t),children:t},t))]}),e.jsxs("div",{className:"py-4 border-t border-b border-gray-200 space-y-3",children:[a?.quantity>0&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex border rounded overflow-hidden",children:[e.jsx("button",{onClick:O,className:"px-3 py-1 bg-gray-200 disabled:bg-gray-100",disabled:c===1,children:"-"}),e.jsx("div",{className:"px-4 py-1 border-x",children:c}),e.jsx("button",{onClick:F,className:"px-3 py-1 bg-gray-200 disabled:bg-gray-100",disabled:c===5,children:"+"})]}),e.jsxs("button",{onClick:()=>_(a._id,a,c),className:`flex items-center justify-center gap-2 px-4 py-2 rounded text-white text-sm sm:text-base ${a.sizes?.length>0&&x===""?"bg-gray-400 cursor-not-allowed":"bg-black"}`,children:[e.jsx(y,{className:"w-5 h-5"}),"Add to Cart"]})]}),a?.quantity===0&&e.jsxs("div",{className:"text-white text-sm bg-red-600 w-full h-10 flex items-center justify-center rounded",children:[e.jsx(y,{className:"w-5 h-5 mr-1"}),"OUT OF STOCK"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:e.jsx(E,{size:20})}),e.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:e.jsx(Y,{size:20})}),e.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:e.jsx(B,{size:20})}),e.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:e.jsx(R,{size:20})}),e.jsxs(G,{to:"/wishlist",className:"text-black flex items-center text-sm",children:[e.jsx(Z,{color:"#DA5555",size:20,className:"mr-1"})," Go to Wishlist"]})]})]})]})})},ie=()=>{const a=C(),{getWishListProduct:o,getWishListLoading:h}=S(s=>s.wishlist),r=w(),[d,g]=i.useState(!1),[u,x]=i.useState({}),[p,c]=i.useState(!1),n=localStorage.getItem("usertoken");i.useEffect(()=>{n&&r(v())},[r,n]);const f=s=>{a(`/allproduct/${s}`)},j=s=>{g(!0),r(J({productid:s})).then(()=>{r(v())}).catch(()=>{}).finally(()=>{g(!1)})},m=s=>{x(s),c(!0)};return h?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(U,{type:"bars",color:"black"})}):e.jsxs("div",{className:"w-full ",children:[e.jsx("div",{className:"bg-[#F4F4F4] w-full h-52 flex justify-center items-center",children:e.jsx("h1",{className:"text-4xl font-semibold",children:"WishList"})}),e.jsx("div",{className:"w-full container mx-auto px-10",children:e.jsxs("div",{className:"bg-white",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold my-6 text-center md:text-left",children:"My wishlist on Easy Mart"}),n&&o.length?e.jsx("div",{className:"w-full grid grid-cols-1 gap-4 sm:hidden",children:o.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 relative",children:[e.jsx("img",{src:s?.details?.images[0],alt:s.details.productName,className:"w-20 h-20 mx-auto"}),e.jsx("div",{onClick:()=>j(s.details._id),className:"absolute top-2 right-2 w-6 h-6 bg-[#fffcfc] shadow-sm shadow-black rounded-full cursor-pointer flex items-center justify-center",children:e.jsx(k,{size:10})}),e.jsx("h2",{className:"text-center font-semibold mt-2",children:s.details.productName}),e.jsxs("p",{className:"text-center text-xl mt-2",children:["$",s.details.price]}),e.jsx("p",{className:"text-center mt-2",children:s.details.quantity>=1?"In Stock":"Out of Stock"}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("button",{onClick:()=>m(s.details),className:"bg-gray-50 text-black hover:text-white tracking-wider uppercase hover:bg-black duration-300 ease-in-out py-2 mb-2",children:"Quick View"}),s.details.quantity>=1?e.jsx("button",{className:"bg-black text-white text-sm hover:bg-gray-800 uppercase py-2",children:"Add to Cart"}):e.jsx("button",{onClick:()=>f(s.details._id),className:"bg-black text-white text-sm hover:bg-gray-800 uppercase py-2",children:"Select Option"})]})]},s.details._id))}):null,n&&o.length?e.jsxs("table",{className:"min-w-full table-fixed bg-white hidden sm:table",children:[e.jsx("thead",{className:"text-black bg-gray-50",children:e.jsxs("tr",{className:"text-sm font-medium text-left",children:[e.jsx("th",{className:"px-4 py-2 w-[30%]",children:"Product"}),e.jsx("th",{className:"px-4 py-2 w-[20%]",children:"Price"}),e.jsx("th",{className:"px-4 py-2 w-[20%]",children:"Stock Status"}),e.jsx("th",{className:"px-4 py-2 w-[30%]",children:"Actions"})]})}),e.jsx("tbody",{className:"text-gray-700",children:o.map(s=>e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"px-4 py-4 flex items-center relative",children:[e.jsx("img",{src:s?.details?.images[0],alt:s.details.productName,className:"w-20 h-16 mr-4"}),e.jsx("div",{onClick:()=>j(s.details._id),className:"flex items-center justify-center absolute top-4 left-2 w-5 h-5 bg-white shadow-sm shadow-black rounded-full cursor-pointer",children:e.jsx(k,{size:7})}),e.jsx("span",{className:"text-sm font-medium",children:s.details.productName})]}),e.jsxs("td",{className:"px-4 py-2",children:["$",s.details.price]}),e.jsx("td",{className:"px-4 py-2",children:s.details.quantity>=1?"In Stock":"Out of Stock"}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0",children:[e.jsx("button",{onClick:()=>m(s.details),className:`px-4 py-2 w-40 h-[37px] bg-gray-50 text-black 
                         hover:text-white uppercase hover:bg-black 
                         duration-300 ease-in-out`,children:"Quick View"}),s.details.quantity>=1?e.jsx("button",{className:"bg-black text-white text-sm uppercase w-40 h-[37px] hover:bg-gray-800",children:"Add to Cart"}):e.jsx("button",{onClick:()=>f(s.details._id),className:"bg-black text-white text-sm uppercase w-40 h-[37px] hover:bg-gray-800",children:"Select Option"})]})})]},s.details._id))})]}):e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx(V,{className:"opacity-10",size:150}),e.jsx("p",{className:"text-gray-500",children:"No products added to the wishlist"})]})})]})}),p&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{onClick:()=>c(!1),className:"absolute inset-0 bg-black opacity-50"}),e.jsxs("div",{className:"relative bg-white w-full max-w-5xl max-h-[90vh] overflow-y-auto shadow-lg rounded-lg p-6 z-50",children:[e.jsx("button",{onClick:()=>c(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-black",children:"❌"}),e.jsx(ee,{wishListView:u})]})]})]})};export{ie as default};
